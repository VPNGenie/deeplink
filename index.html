<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>Deep Link Redirect</title>
</head>
<body>
  <h2>Если переход не сработал, нажмите на ссылку:</h2>
  <p id="link"></p>

<script>
const params = new URLSearchParams(window.location.search);
const encoded = params.get('cfg'); // cfg должен быть Base64

if(encoded){
  try{
    const cfg = atob(encoded); // декодируем Base64

    // редирект в приложение
    window.location.href = cfg;

    // fallback ссылка
    const linkContainer = document.getElementById('link');
    const a = document.createElement('a');
    a.href = cfg;
    a.textContent = "Открыть вручную";
    a.style.fontSize = "20px";
    a.style.color = "#007bff";
    linkContainer.appendChild(a);

  }catch(e){
    document.getElementById('link').textContent = "Ошибка декодирования cfg";
    console.error(e);
  }
}else{
  document.getElementById('link').textContent = "Параметр cfg не указан.";
}
</script>
</body>
</html>
